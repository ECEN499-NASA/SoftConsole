\hypertarget{spi__test__prog_8h}{}\doxysection{/home/zac/git/projects/\+Polar\+Fire\+\_\+\+R\+I\+S\+C-\/\+V\+\_\+\+T\+M\+R\+\_\+\+Soft\+Console/\+N\+A\+S\+A\+\_\+\+R\+I\+S\+C-\/\+V\+\_\+\+T\+M\+R\+\_\+\+T\+E\+S\+T\+\_\+\+P\+R\+O\+G/spi\+\_\+test\+\_\+files/spi\+\_\+test\+\_\+prog.h File Reference}
\label{spi__test__prog_8h}\index{/home/zac/git/projects/PolarFire\_RISC-\/V\_TMR\_SoftConsole/NASA\_RISC-\/V\_TMR\_TEST\_PROG/spi\_test\_files/spi\_test\_prog.h@{/home/zac/git/projects/PolarFire\_RISC-\/V\_TMR\_SoftConsole/NASA\_RISC-\/V\_TMR\_TEST\_PROG/spi\_test\_files/spi\_test\_prog.h}}


Header file containing all the prototypes and declarations for the S\+PI test.  


{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include \char`\"{}hw\+\_\+platform.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core\+\_\+uart\+\_\+apb.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core\+\_\+spi.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}user\+\_\+handler.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Structure used to store S\+PI device configurations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{spi__test__prog_8h_a87f243d506ce62a8a002b5976d3a4844}{S\+P\+I\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+ID}} \{ \newline
{\bfseries F\+R\+AM}, 
{\bfseries E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+P\+I\+\_\+0}, 
{\bfseries E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+S\+P\+I\+\_\+1}, 
{\bfseries A\+DC}, 
\newline
{\bfseries L\+C\+D\+\_\+\+S\+C\+R\+E\+EN}, 
{\bfseries A\+C\+C\+E\+L\+E\+R\+O\+M\+E\+T\+ER}
 \}
\begin{DoxyCompactList}\small\item\em List of available S\+P\+Is of the microcontroller. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_ad2469a4b04e341d27cfc8c1f6b718c79}\label{spi__test__prog_8h_ad2469a4b04e341d27cfc8c1f6b718c79}} 
enum \mbox{\hyperlink{spi__test__prog_8h_ad2469a4b04e341d27cfc8c1f6b718c79}{S\+P\+I\+\_\+\+T\+E\+S\+T\+\_\+\+S\+EL}} \{ {\bfseries S\+E\+N\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+MM}, 
{\bfseries S\+E\+N\+D\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+MM}
 \}
\begin{DoxyCompactList}\small\item\em List of different commands the user can perform. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{spi__test__prog_8h_a4aa3a2916650e7131e463bf9739a90e4}{spi\+\_\+test\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the S\+PI test. First function called in the test\textquotesingle{}s main function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi__test__prog_8h_a85669ebdb38be966535e38cbee6da5e4}{spi\+\_\+test\+\_\+read}} (\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} $\ast$device, uint8\+\_\+t $\ast$command, uint8\+\_\+t $\ast$data, uint8\+\_\+t data\+\_\+size)
\begin{DoxyCompactList}\small\item\em Reads x bytes (x specified by the data\+\_\+size param) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi__test__prog_8h_add5d35f1a21bf4f02db32e46c7a75828}{spi\+\_\+test\+\_\+write}} (\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} $\ast$device, uint8\+\_\+t $\ast$data, uint8\+\_\+t data\+\_\+size, uint8\+\_\+t $\ast$resp\+\_\+data)
\begin{DoxyCompactList}\small\item\em Writes x bytes (x specified by the data\+\_\+size param) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a3753e083a99f55a45620bfdfb9a01321}\label{spi__test__prog_8h_a3753e083a99f55a45620bfdfb9a01321}} 
void \mbox{\hyperlink{spi__test__prog_8h_a3753e083a99f55a45620bfdfb9a01321}{spi\+\_\+test\+\_\+handler}} (void)
\begin{DoxyCompactList}\small\item\em The main function of the \char`\"{}\+S\+P\+I\+\_\+\+T\+E\+S\+T\+\_\+\+P\+R\+O\+G\char`\"{}. Lets user change settings and test different aspects of the S\+DI. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi__test__prog_8h_aa03991b42e71182694f4c300cd9d13a4}{spi\+\_\+test\+\_\+send\+\_\+write\+\_\+command}} (void)
\begin{DoxyCompactList}\small\item\em Handler for used to test sending data of various sizes to the selected device. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi__test__prog_8h_a846cd22404be760a5672a1296b0fe015}{spi\+\_\+test\+\_\+send\+\_\+read\+\_\+command}} (void)
\begin{DoxyCompactList}\small\item\em Handler for used to test reading data of various sizes from the selected device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_ac23eef55b6f2e2814b632e12e0391ed3}\label{spi__test__prog_8h_ac23eef55b6f2e2814b632e12e0391ed3}} 
void \mbox{\hyperlink{spi__test__prog_8h_ac23eef55b6f2e2814b632e12e0391ed3}{spi\+\_\+test\+\_\+display\+\_\+write\+\_\+command\+\_\+instructions}} (void)
\begin{DoxyCompactList}\small\item\em Displays the user commands for the program. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_ad176bd9962e81c229f93bd5cc7413815}\label{spi__test__prog_8h_ad176bd9962e81c229f93bd5cc7413815}} 
void \mbox{\hyperlink{spi__test__prog_8h_ad176bd9962e81c229f93bd5cc7413815}{spi\+\_\+test\+\_\+write\+\_\+single\+\_\+byte}} (void)
\begin{DoxyCompactList}\small\item\em Tests just sending one byte of data determined by the user\textquotesingle{}s input. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a6700ca2b131d3f21079949d966ac4a13}\label{spi__test__prog_8h_a6700ca2b131d3f21079949d966ac4a13}} 
void \mbox{\hyperlink{spi__test__prog_8h_a6700ca2b131d3f21079949d966ac4a13}{spi\+\_\+test\+\_\+write\+\_\+quad\+\_\+byte}} (void)
\begin{DoxyCompactList}\small\item\em Tests sending four bytes of data determined by the user\textquotesingle{}s input. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi__test__prog_8h_ad167029c4b60cb972f21723128bca4f9}{spi\+\_\+test\+\_\+write\+\_\+custom\+\_\+byte}} (void)
\begin{DoxyCompactList}\small\item\em Sends a number of bytes (determined by the user) to the selected S\+PI device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a4df05b3818122bb87731fa7a090bb9b1}\label{spi__test__prog_8h_a4df05b3818122bb87731fa7a090bb9b1}} 
void \mbox{\hyperlink{spi__test__prog_8h_a4df05b3818122bb87731fa7a090bb9b1}{spi\+\_\+test\+\_\+display\+\_\+read\+\_\+command\+\_\+instructions}} (void)
\begin{DoxyCompactList}\small\item\em Displays the commands that a user can select to test reading from the selected S\+PI device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a48f1a7e0236a6a1cc890471821905d28}\label{spi__test__prog_8h_a48f1a7e0236a6a1cc890471821905d28}} 
void \mbox{\hyperlink{spi__test__prog_8h_a48f1a7e0236a6a1cc890471821905d28}{spi\+\_\+test\+\_\+read\+\_\+single\+\_\+byte}} (void)
\begin{DoxyCompactList}\small\item\em Tests reading a single byte from the selected S\+PI device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a648b08a88f807c3dac6447a7bb57274f}\label{spi__test__prog_8h_a648b08a88f807c3dac6447a7bb57274f}} 
void \mbox{\hyperlink{spi__test__prog_8h_a648b08a88f807c3dac6447a7bb57274f}{spi\+\_\+test\+\_\+read\+\_\+quad\+\_\+byte}} (void)
\begin{DoxyCompactList}\small\item\em Tests reading four bytes from the selected S\+PI device. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi__test__prog_8h_af4c48d4cc470d5844ede6426ed43a5e0}{spi\+\_\+test\+\_\+read\+\_\+custom\+\_\+byte}} (void)
\begin{DoxyCompactList}\small\item\em Reads a number of bytes (determined by the user) from the selected S\+PI device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_ab54fd668cdde6ffa7a15834575d72d7c}\label{spi__test__prog_8h_ab54fd668cdde6ffa7a15834575d72d7c}} 
void \mbox{\hyperlink{spi__test__prog_8h_ab54fd668cdde6ffa7a15834575d72d7c}{spi\+\_\+test\+\_\+display\+\_\+commands}} (void)
\begin{DoxyCompactList}\small\item\em Displays the S\+P\+I\+\_\+\+T\+E\+S\+T\+\_\+\+P\+R\+OG top-\/level commands. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a91d0dbf99b5d8fd68965f66788e58da0}\label{spi__test__prog_8h_a91d0dbf99b5d8fd68965f66788e58da0}} 
void \mbox{\hyperlink{spi__test__prog_8h_a91d0dbf99b5d8fd68965f66788e58da0}{spi\+\_\+test\+\_\+display\+\_\+devices}} (void)
\begin{DoxyCompactList}\small\item\em Displays available S\+PI devices that the user can select. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_ad799be8216be4017e5a770110a45741f}\label{spi__test__prog_8h_ad799be8216be4017e5a770110a45741f}} 
void \mbox{\hyperlink{spi__test__prog_8h_ad799be8216be4017e5a770110a45741f}{spi\+\_\+test\+\_\+display\+\_\+selected\+\_\+device}} (void)
\begin{DoxyCompactList}\small\item\em Displays the currently slected device to the user. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a75ee3c2ffd172efb123cb50496ee639d}\label{spi__test__prog_8h_a75ee3c2ffd172efb123cb50496ee639d}} 
void \mbox{\hyperlink{spi__test__prog_8h_a75ee3c2ffd172efb123cb50496ee639d}{spi\+\_\+test\+\_\+change\+\_\+selected\+\_\+device}} (void)
\begin{DoxyCompactList}\small\item\em Lets user change the selected S\+PI device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a82e391b12230212dcdf85056c5975c36}\label{spi__test__prog_8h_a82e391b12230212dcdf85056c5975c36}} 
void \mbox{\hyperlink{spi__test__prog_8h_a82e391b12230212dcdf85056c5975c36}{spi\+\_\+test\+\_\+display\+\_\+incorrect\+\_\+command}} (void)
\begin{DoxyCompactList}\small\item\em Used when the user enters an invalid command. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{spi__test__prog_8h_a250197ee931f58248dd31b2028d1611d}\label{spi__test__prog_8h_a250197ee931f58248dd31b2028d1611d}} 
\mbox{\hyperlink{structspi__instance}{spi\+\_\+instance\+\_\+t}} \mbox{\hyperlink{spi__test__prog_8h_a250197ee931f58248dd31b2028d1611d}{riscv\+\_\+spi}}
\begin{DoxyCompactList}\small\item\em Object for the R\+I\+S\+C-\/V core\textquotesingle{}s S\+PI hardware. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a2e074965d77b7cc2854b2b89748b666a}\label{spi__test__prog_8h_a2e074965d77b7cc2854b2b89748b666a}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} $\ast$ \mbox{\hyperlink{spi__test__prog_8h_a2e074965d77b7cc2854b2b89748b666a}{selected\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Current device selected to read/write data. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a29a1d98fbd9a5932b4e319345046e3b3}\label{spi__test__prog_8h_a29a1d98fbd9a5932b4e319345046e3b3}} 
\mbox{\hyperlink{spi__test__prog_8h_a87f243d506ce62a8a002b5976d3a4844}{S\+P\+I\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+ID}} \mbox{\hyperlink{spi__test__prog_8h_a29a1d98fbd9a5932b4e319345046e3b3}{selected\+\_\+dev\+\_\+id}}
\begin{DoxyCompactList}\small\item\em ID of the currently selected device. Used to tell the user what device is currently selected. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a686e9ce5422577f0ea11f28b4c33fc52}\label{spi__test__prog_8h_a686e9ce5422577f0ea11f28b4c33fc52}} 
uint8\+\_\+t \mbox{\hyperlink{spi__test__prog_8h_a686e9ce5422577f0ea11f28b4c33fc52}{quit\+\_\+spi\+\_\+test}}
\begin{DoxyCompactList}\small\item\em Used to determine if the user wants to quit the test program. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a46dcef2d0c8a10b1934f5c812ac28895}\label{spi__test__prog_8h_a46dcef2d0c8a10b1934f5c812ac28895}} 
uint8\+\_\+t \mbox{\hyperlink{spi__test__prog_8h_a46dcef2d0c8a10b1934f5c812ac28895}{spi\+\_\+command\+\_\+byte}}
\begin{DoxyCompactList}\small\item\em Command byte to send over S\+PI. \end{DoxyCompactList}\item 
U\+A\+R\+T\+\_\+instance\+\_\+t \mbox{\hyperlink{spi__test__prog_8h_a2700cde8d3662ef58b647d5e4b14e18b}{g\+\_\+uart}}
\item 
\mbox{\Hypertarget{spi__test__prog_8h_a02bd3a1d8e294a8f64c769178ec07eea}\label{spi__test__prog_8h_a02bd3a1d8e294a8f64c769178ec07eea}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} \mbox{\hyperlink{spi__test__prog_8h_a02bd3a1d8e294a8f64c769178ec07eea}{fram\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Configuration for the S\+PI F\+L\+A\+SH. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a277eb22a369721f017cd65d93034d8b7}\label{spi__test__prog_8h_a277eb22a369721f017cd65d93034d8b7}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} \mbox{\hyperlink{spi__test__prog_8h_a277eb22a369721f017cd65d93034d8b7}{external\+\_\+spi\+\_\+0}}
\begin{DoxyCompactList}\small\item\em Configuration for one of the external S\+PI ports. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a623ebc73879144145e467950be650deb}\label{spi__test__prog_8h_a623ebc73879144145e467950be650deb}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} \mbox{\hyperlink{spi__test__prog_8h_a623ebc73879144145e467950be650deb}{external\+\_\+spi\+\_\+1}}
\begin{DoxyCompactList}\small\item\em Configuration for one of the external S\+PI ports. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a467bd423905e83ac180fe7dbf81291bf}\label{spi__test__prog_8h_a467bd423905e83ac180fe7dbf81291bf}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} \mbox{\hyperlink{spi__test__prog_8h_a467bd423905e83ac180fe7dbf81291bf}{adc\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Configuration for the A\+DC. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a91f5baec8594e14ef1799a74e537dfaa}\label{spi__test__prog_8h_a91f5baec8594e14ef1799a74e537dfaa}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} \mbox{\hyperlink{spi__test__prog_8h_a91f5baec8594e14ef1799a74e537dfaa}{lcd\+\_\+screen\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Configuration for the L\+CD S\+C\+R\+E\+EN. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{spi__test__prog_8h_a5779eee5a7019ec0d0b15312d53bcdd9}\label{spi__test__prog_8h_a5779eee5a7019ec0d0b15312d53bcdd9}} 
\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} \mbox{\hyperlink{spi__test__prog_8h_a5779eee5a7019ec0d0b15312d53bcdd9}{accelerometer\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Configuration for the Accelerometer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file containing all the prototypes and declarations for the S\+PI test. 

\begin{DoxyAuthor}{Author}
Zac Carico 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
Mar 16 2020 
\end{DoxyDate}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{spi__test__prog_8h_a87f243d506ce62a8a002b5976d3a4844}\label{spi__test__prog_8h_a87f243d506ce62a8a002b5976d3a4844}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!SPI\_DEVICE\_ID@{SPI\_DEVICE\_ID}}
\index{SPI\_DEVICE\_ID@{SPI\_DEVICE\_ID}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{SPI\_DEVICE\_ID}{SPI\_DEVICE\_ID}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{spi__test__prog_8h_a87f243d506ce62a8a002b5976d3a4844}{S\+P\+I\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+ID}}}



List of available S\+P\+Is of the microcontroller. 

The order of the list is crucial. It is the same order as the select lines. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{spi__test__prog_8h_a4aa3a2916650e7131e463bf9739a90e4}\label{spi__test__prog_8h_a4aa3a2916650e7131e463bf9739a90e4}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_init@{spi\_test\_init}}
\index{spi\_test\_init@{spi\_test\_init}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_init()}{spi\_test\_init()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the S\+PI test. First function called in the test\textquotesingle{}s main function. 

Used to initialize the S\+PI, setting it as \char`\"{}master mode\char`\"{} \mbox{\Hypertarget{spi__test__prog_8h_a85669ebdb38be966535e38cbee6da5e4}\label{spi__test__prog_8h_a85669ebdb38be966535e38cbee6da5e4}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_read@{spi\_test\_read}}
\index{spi\_test\_read@{spi\_test\_read}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_read()}{spi\_test\_read()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} $\ast$}]{device,  }\item[{uint8\+\_\+t $\ast$}]{command,  }\item[{uint8\+\_\+t $\ast$}]{data,  }\item[{uint8\+\_\+t}]{data\+\_\+size }\end{DoxyParamCaption})}



Reads x bytes (x specified by the data\+\_\+size param) 

The function will send a read command to the specified device, then fill up the data param with the information comming in


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#define DATA\_SIZE 10}}
\DoxyCodeLine{}
\DoxyCodeLine{uint8\_t data\_size = DATA\_SIZE;}
\DoxyCodeLine{uint8\_t data\_read[DATA\_SIZE];}
\DoxyCodeLine{uint8\_t read\_command = 0x10; \textcolor{comment}{// Can be any byte-\/sized read command}}
\DoxyCodeLine{\mbox{\hyperlink{structspi__dev}{spi\_dev}} device = \{}
\DoxyCodeLine{   .\mbox{\hyperlink{structspi__dev_ae5a31ddc8d2628abca254a9b30a7acbd}{spi}} = \&\mbox{\hyperlink{spi__test__prog_8h_a250197ee931f58248dd31b2028d1611d}{riscv\_spi}},      \textcolor{comment}{// Any "spi\_instance\_t" type}}
\DoxyCodeLine{   .spi\_sel = SPI\_SLAVE\_0  \textcolor{comment}{// Any "spi\_slave\_t" type}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{spi__test__prog_8c_a85669ebdb38be966535e38cbee6da5e4}{spi\_test\_read}}(\&device, \&command, \&data\_read, \&data\_size);}
\DoxyCodeLine{printf(\textcolor{stringliteral}{"Data Read:\(\backslash\)t0x"});}
\DoxyCodeLine{\textcolor{keywordflow}{for}(uint8\_t i = 0; i < DATA\_SIZE; i++) \{}
\DoxyCodeLine{     printf(\textcolor{stringliteral}{" \%x"}, data\_read[i]); }
\DoxyCodeLine{\}}
\DoxyCodeLine{printf(\textcolor{stringliteral}{"\(\backslash\)n"});}
\end{DoxyCode}
 ~\newline



\begin{DoxyParams}{Parameters}
{\em device} & Pointer to device to read data from. There are currently 6 different devices that can be read from \\
\hline
{\em command} & Pointer to read command to send to the device \\
\hline
{\em data} & Pointer/array to be filled with incomming data \\
\hline
{\em data\+\_\+size} & Size of the data array\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{spi__test__prog_8h_af4c48d4cc470d5844ede6426ed43a5e0}\label{spi__test__prog_8h_af4c48d4cc470d5844ede6426ed43a5e0}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_read\_custom\_byte@{spi\_test\_read\_custom\_byte}}
\index{spi\_test\_read\_custom\_byte@{spi\_test\_read\_custom\_byte}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_read\_custom\_byte()}{spi\_test\_read\_custom\_byte()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+read\+\_\+custom\+\_\+byte (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads a number of bytes (determined by the user) from the selected S\+PI device. 

Gets the number of bytes bytes to read from the user, gets the read command, then reads the data.

\begin{DoxyWarning}{Warning}
This function was breaking at some point, but due to the inability to fully test the feature, it may not have been fixed 
\end{DoxyWarning}
\mbox{\Hypertarget{spi__test__prog_8h_a846cd22404be760a5672a1296b0fe015}\label{spi__test__prog_8h_a846cd22404be760a5672a1296b0fe015}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_send\_read\_command@{spi\_test\_send\_read\_command}}
\index{spi\_test\_send\_read\_command@{spi\_test\_send\_read\_command}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_send\_read\_command()}{spi\_test\_send\_read\_command()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+send\+\_\+read\+\_\+command (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Handler for used to test reading data of various sizes from the selected device. 

User can choose to read data of 1byte, 4bytes, or an amount specified by the user. \mbox{\Hypertarget{spi__test__prog_8h_aa03991b42e71182694f4c300cd9d13a4}\label{spi__test__prog_8h_aa03991b42e71182694f4c300cd9d13a4}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_send\_write\_command@{spi\_test\_send\_write\_command}}
\index{spi\_test\_send\_write\_command@{spi\_test\_send\_write\_command}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_send\_write\_command()}{spi\_test\_send\_write\_command()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+send\+\_\+write\+\_\+command (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Handler for used to test sending data of various sizes to the selected device. 

User can choose to send data of 1byte, 4bytes, or an amount specified by the user. \mbox{\Hypertarget{spi__test__prog_8h_add5d35f1a21bf4f02db32e46c7a75828}\label{spi__test__prog_8h_add5d35f1a21bf4f02db32e46c7a75828}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_write@{spi\_test\_write}}
\index{spi\_test\_write@{spi\_test\_write}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_write()}{spi\_test\_write()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structspi__dev}{spi\+\_\+dev}} $\ast$}]{device,  }\item[{uint8\+\_\+t $\ast$}]{data,  }\item[{uint8\+\_\+t}]{data\+\_\+size,  }\item[{uint8\+\_\+t $\ast$}]{resp\+\_\+data }\end{DoxyParamCaption})}



Writes x bytes (x specified by the data\+\_\+size param) 

Writes data to the specified device and then captures the device\textquotesingle{}s response


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#define DATA\_SIZE 10}}
\DoxyCodeLine{}
\DoxyCodeLine{uint8\_t data\_size = DATA\_SIZE;}
\DoxyCodeLine{uint8\_t data[DATA\_SIZE] = \{ }
\DoxyCodeLine{   \textcolor{comment}{// write\_command}}
\DoxyCodeLine{   0x10, }
\DoxyCodeLine{   \textcolor{comment}{// data}}
\DoxyCodeLine{   0x00, 0x01, 0x02, 0x03, 0x04, }
\DoxyCodeLine{   0x05, 0x07, 0x08, 0x09}
\DoxyCodeLine{\};}
\DoxyCodeLine{\mbox{\hyperlink{structspi__dev}{spi\_dev}} device = \{}
\DoxyCodeLine{   .\mbox{\hyperlink{structspi__dev_ae5a31ddc8d2628abca254a9b30a7acbd}{spi}} = \&\mbox{\hyperlink{spi__test__prog_8h_a250197ee931f58248dd31b2028d1611d}{riscv\_spi}},      \textcolor{comment}{// Any "spi\_instance\_t" type}}
\DoxyCodeLine{   .spi\_sel = SPI\_SLAVE\_0  \textcolor{comment}{// Any "spi\_slave\_t" type}}
\DoxyCodeLine{\};}
\DoxyCodeLine{uint8\_t *resp\_data;}
\DoxyCodeLine{}
\DoxyCodeLine{spi\_test(\&device. \&data, data\_size, \&resp\_data);}
\DoxyCodeLine{printf(\textcolor{stringliteral}{"Response:\(\backslash\)t\%d"}, resp\_data);}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em device} & Pointer to device to read data from. There are currently 6 different devices that can be read from \\
\hline
{\em data} & Pointer/array of data to send to the device, The first byte in the array being the write command the device needs. \\
\hline
{\em data\+\_\+size} & Size of the data array \\
\hline
{\em resp\+\_\+data} & pointer to the device\textquotesingle{}s response after receiving the data \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{spi__test__prog_8h_ad167029c4b60cb972f21723128bca4f9}\label{spi__test__prog_8h_ad167029c4b60cb972f21723128bca4f9}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!spi\_test\_write\_custom\_byte@{spi\_test\_write\_custom\_byte}}
\index{spi\_test\_write\_custom\_byte@{spi\_test\_write\_custom\_byte}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{spi\_test\_write\_custom\_byte()}{spi\_test\_write\_custom\_byte()}}
{\footnotesize\ttfamily void spi\+\_\+test\+\_\+write\+\_\+custom\+\_\+byte (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Sends a number of bytes (determined by the user) to the selected S\+PI device. 

Gets the number of bytes bytes to send from the user, gets the data to send from the user, then sends the data.

\begin{DoxyWarning}{Warning}
This function was breaking at some point, but due to the inability to fully test the feature, it may not have been fixed 
\end{DoxyWarning}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{spi__test__prog_8h_a2700cde8d3662ef58b647d5e4b14e18b}\label{spi__test__prog_8h_a2700cde8d3662ef58b647d5e4b14e18b}} 
\index{spi\_test\_prog.h@{spi\_test\_prog.h}!g\_uart@{g\_uart}}
\index{g\_uart@{g\_uart}!spi\_test\_prog.h@{spi\_test\_prog.h}}
\doxysubsubsection{\texorpdfstring{g\_uart}{g\_uart}}
{\footnotesize\ttfamily U\+A\+R\+T\+\_\+instance\+\_\+t g\+\_\+uart}

\begin{DoxyNote}{Note}
Global variable initialized in \char`\"{}main()\char`\"{} 
\end{DoxyNote}
